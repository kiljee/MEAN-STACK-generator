// Autogenerated from java.template file


var express = require('express')
var router = express.Router()
var CovekCtrl = require('../controllers/covekController')

router.get('/',function(req, res, next){

  CovekCtrl.find(req.query, function(err, results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.get('/:id', function(req, res, next){

  CovekCtrl.findById(req.params.id, function(err,results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.post('/',function(req,res,next){

  CovekCtrl.create(req.body,function(err,results){
    if(err){
      res.status(400).json({
        confirmation: 'fail',
        message: err,
        status: 400
      })
    }
    else
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.post('/:id',function(req,res,next){

  CovekCtrl.delete(req.params.id,function(err,results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.post('/edit/:id',function(req,res,next){

  CovekCtrl.update(req.params.id,req.body, function(err, results){
    if(err){
      res.json({
        confirmation: "fail",
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
module.exports = router