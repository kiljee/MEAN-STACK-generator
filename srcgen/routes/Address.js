// Autogenerated from java.template file


var express = require('express')
var router = express.Router()
var AddressCtrl = require('../controllers/addressController')

router.get('/',function(req, res, next){

  AddressCtrl.find(req.query, function(err, results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.get('/:id', function(req, res, next){
  console.log(req.params.id)
  AddressCtrl.findById(req.params.id, function(err,results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.post('/',function(req,res,next){

  console.log(req.body)
  AddressCtrl.create(req.body,function(err,results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.post('/:id',function(req,res,next){

  console.log(req.params.id)
  AddressCtrl.delete(req.params.id,function(err,results){
    if(err){
      res.json({
        confirmation: 'fail',
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
router.put('/:id',function(req,res,next){
  console.log(req.body)
  console.log(req.params.id)
  AddressCtrl.update(req.params.id,req.body, function(err, results){
    if(err){
      res.json({
        confirmation: "fail",
        message: err
      })
      return
    }
    res.json({
      confirmation: 'success',
      results: results
    })
  })
})
module.exports = router